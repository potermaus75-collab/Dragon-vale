<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Dragon Chronicles</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body oncontextmenu="return false;" onselectstart="return false;">

    <section id="screen-start" class="full-screen active">
        <div class="title-area">
            <h1>DRAGON<br>CHRONICLES</h1>
            <p id="start-msg" class="blink" style="cursor:pointer; margin-top:20px;" onclick="document.getElementById('screen-start').classList.add('hidden'); if(localStorage.getItem('dragonSaveData')){loadGame(); startGame();}else{document.getElementById('screen-setup').classList.remove('hidden');}">터치하여 시작</p>
        </div>
    </section>

    <section id="screen-setup" class="full-screen hidden">
        <div class="panel-box">
            <h2>이름을 알려주세요</h2>
            <input type="text" id="input-nickname" maxlength="8">
            <button class="btn-stone" onclick="submitName()">모험 시작</button>
        </div>
    </section>

    <section id="screen-game" class="full-screen hidden">
        
        <main id="game-view">
            
            <div id="tab-dragon" class="tab-content">
                <div class="nest-layout-container">
                    
                    <div class="nest-header-area">
                        <div class="currency-slot gold-slot">
                            <span id="ui-gold">0</span>
                        </div>
                        <div class="currency-slot gem-slot">
                            <span id="ui-gem">0</span>
                        </div>
                        <button class="btn-menu-hamburger">≡</button>
                    </div>

                    <div class="nest-body-area">
                        
                        <div class="nest-sidebar-left">
                            <div class="sidebar-header-text">알 목록</div>
                            <div id="my-egg-list" class="sidebar-list-content">
                                </div>
                        </div>

                        <div class="nest-right-column">
                            
                            <div class="nest-center-stage">
                                <div class="dragon-name-box">
                                    <span id="dragon-name-ui">이름 없음</span>
                                </div>
                                
                                <div class="dragon-visual-area">
                                     <div id="dragon-display"></div>
                                </div>

                                <div class="nest-controls">
                                    <div class="gauge-box">
                                        <div id="progress-fill" class="gauge-fill"></div>
                                        <span class="gauge-text">0 / 100</span>
                                    </div>
                                    <button class="btn-touch-img" onclick="handleTouchBtn()"></button>
                                </div>
                            </div>

                            <div class="nest-bottom-panel">
                                <div class="panel-label">인벤토리</div>
                                <div class="panel-content-row">
                                    <div id="cave-inventory-grid" class="material-scroll-row">
                                        </div>
                                    </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-info" class="tab-content hidden default-layout"><h2 style="margin-top:100px;">준비 중</h2></div>
            <div id="tab-explore" class="tab-content hidden default-layout"><h2 style="margin-top:100px;">준비 중</h2></div>
            <div id="tab-book" class="tab-content hidden default-layout"><h2 style="margin-top:100px;">준비 중</h2></div>
            <div id="tab-shop" class="tab-content hidden default-layout"><h2 style="margin-top:100px;">준비 중</h2></div>

        </main>

        <nav class="new-bottom-nav">
            <button class="nav-item" onclick="switchTab('info')"><img src="assets/images/ui_new/icon_home.png"></button>
            <button class="nav-item" onclick="switchTab('book')"><img src="assets/images/ui_new/icon_book.png"></button>
            <button class="nav-item" onclick="switchTab('dragon')"><img src="assets/images/ui_new/icon_bag.png"></button>
            <button class="nav-item" onclick="switchTab('explore')"><img src="assets/images/ui_new/icon_map.png"></button>
            <button class="nav-item"><img src="assets/images/ui_new/icon_setting.png"></button>
        </nav>
    </section>

    <div id="common-modal" class="full-screen hidden" style="background:rgba(0,0,0,0.8); z-index:10000;">
        <div class="panel-box">
            <h3 id="modal-title">알림</h3>
            <div id="modal-text" style="text-align:center; margin:20px 0;">내용</div>
            <div id="modal-btn-alert" class="hidden"><button class="btn-stone" onclick="closeModal()">확인</button></div>
            <div id="modal-btn-confirm" class="hidden" style="display:flex; gap:10px;">
                <button class="btn-stone" id="btn-confirm-yes">예</button>
                <button class="btn-stone" id="btn-confirm-no" onclick="closeModal()">아니오</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/dragon.js"></script>
    <script src="js/player.js"></script>
    <script src="js/hatchery.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
